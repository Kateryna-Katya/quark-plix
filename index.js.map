{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n  // --- 1. CONFIG & UTILS ---\n  const CONFIG = {\n      scrollOffset: 90, // Высота хедера + отступ\n  };\n\n  // Инициализация иконок (Lucide)\n  if (typeof lucide !== 'undefined') {\n      lucide.createIcons();\n  }\n\n  // --- 2. HEADER & MOBILE MENU ---\n  const burger = document.querySelector('.header__burger');\n  const menu = document.querySelector('.header__menu');\n  const header = document.querySelector('.header');\n\n  if (burger && menu) {\n      burger.addEventListener('click', () => {\n          menu.classList.toggle('is-active');\n          const isActive = menu.classList.contains('is-active');\n          burger.style.color = isActive ? 'var(--color-primary)' : '#fff';\n          document.body.style.overflow = isActive ? 'hidden' : '';\n      });\n\n      menu.querySelectorAll('a').forEach(link => {\n          link.addEventListener('click', () => {\n              menu.classList.remove('is-active');\n              burger.style.color = '#fff';\n              document.body.style.overflow = '';\n          });\n      });\n  }\n\n  // Фон хедера при скролле\n  const handleScroll = () => {\n      if (window.scrollY > 50) {\n          header.style.background = 'rgba(11, 13, 18, 0.95)';\n      } else {\n          header.style.background = 'rgba(11, 13, 18, 0.85)';\n      }\n  };\n  window.addEventListener('scroll', handleScroll);\n\n  // --- 3. SMOOTH SCROLL ---\n  document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n      anchor.addEventListener('click', function (e) {\n          e.preventDefault();\n          const targetId = this.getAttribute('href');\n          if (targetId === '#') return;\n\n          const target = document.querySelector(targetId);\n          if (target) {\n              const elementPosition = target.getBoundingClientRect().top;\n              const offsetPosition = elementPosition + window.pageYOffset - CONFIG.scrollOffset;\n\n              window.scrollTo({\n                  top: offsetPosition,\n                  behavior: 'smooth'\n              });\n          }\n      });\n  });\n\n  // --- 4. FORM LOGIC & CAPTCHA (ИСПРАВЛЕНО) ---\n  const form = document.getElementById('leadForm');\n\n  // Ищем сообщение снаружи формы (более надежный поиск)\n  const successMsg = document.querySelector('.success-message');\n\n  if (form) {\n      const phoneInput = document.getElementById('phone');\n      const captchaLabel = document.getElementById('captchaLabel');\n      const captchaInput = document.getElementById('captchaInput');\n      const submitBtn = form.querySelector('button[type=\"submit\"]');\n\n      // Генерация капчи\n      const num1 = Math.floor(Math.random() * 10) + 1;\n      const num2 = Math.floor(Math.random() * 10) + 1;\n      const sum = num1 + num2;\n      if(captchaLabel) captchaLabel.textContent = `Сколько будет ${num1} + ${num2}?`;\n\n      // Валидация телефона\n      if(phoneInput) {\n          phoneInput.addEventListener('input', (e) => {\n              const val = e.target.value;\n              const isValid = /^[0-9\\+\\-\\(\\)\\s]*$/.test(val);\n              if (!isValid) phoneInput.parentElement.classList.add('error');\n              else phoneInput.parentElement.classList.remove('error');\n          });\n      }\n\n      // Обработка отправки\n      form.addEventListener('submit', (e) => {\n          e.preventDefault();\n\n          // Проверка капчи\n          if (parseInt(captchaInput.value) !== sum) {\n              alert('Ошибка в математическом примере!');\n              captchaInput.focus();\n              return;\n          }\n\n          // Старт анимации загрузки\n          submitBtn.classList.add('is-loading');\n          submitBtn.disabled = true;\n\n          // Имитация отправки (1.5 секунды)\n          setTimeout(() => {\n              submitBtn.classList.remove('is-loading');\n\n              // 1. Скрываем форму\n              form.style.display = 'none';\n\n              // 2. Показываем сообщение (Оно теперь снаружи, поэтому не скроется)\n              if(successMsg) {\n                  successMsg.style.display = 'flex';\n                  // Переинициализация иконки внутри сообщения (на всякий случай)\n                  if (typeof lucide !== 'undefined') lucide.createIcons();\n              }\n\n          }, 1500);\n      });\n  }\n\n  // --- 5. COOKIE POPUP ---\n  const cookiePopup = document.getElementById('cookiePopup');\n  const acceptBtn = document.getElementById('acceptCookie');\n\n  if (cookiePopup && !localStorage.getItem('cookiesAccepted')) {\n      setTimeout(() => {\n          cookiePopup.classList.add('show');\n      }, 2000);\n  }\n\n  if (acceptBtn) {\n      acceptBtn.addEventListener('click', () => {\n          localStorage.setItem('cookiesAccepted', 'true');\n          cookiePopup.classList.remove('show');\n      });\n  }\n});\n\n// --- 6. ANIMATIONS (GSAP) ---\nwindow.addEventListener('load', () => {\n\n  // Функция принудительного показа (fallback)\n  const showAllContent = () => {\n      document.querySelectorAll('.hero__title, .hero__desc, .hero__actions, .hero__img-wrapper, .section, .mentors-grid').forEach(el => {\n          el.style.opacity = 1;\n          el.style.visibility = 'visible';\n          el.style.transform = 'none';\n      });\n  };\n\n  if (typeof gsap === 'undefined' || typeof ScrollTrigger === 'undefined') {\n      console.warn('GSAP or ScrollTrigger not found');\n      showAllContent();\n      return;\n  }\n\n  gsap.registerPlugin(ScrollTrigger);\n\n  try {\n      const heroTitle = document.querySelector('.hero__title');\n\n      // === HERO ANIMATION ===\n      if (heroTitle) {\n          gsap.set(['.hero__desc', '.hero__actions'], { y: 30, opacity: 0 });\n          gsap.set('.hero__img-wrapper', { scale: 0.9, opacity: 0 });\n\n          let splitChars = [];\n          // Используем SplitType только если он загружен\n          if (typeof SplitType !== 'undefined') {\n              const typeSplit = new SplitType('.hero__title', {\n                  types: 'lines, words',\n                  tagName: 'span'\n              });\n              gsap.set(typeSplit.words, { y: 50, opacity: 0 });\n              splitChars = typeSplit.words;\n          } else {\n              gsap.set('.hero__title', { y: 50, opacity: 0 });\n              splitChars = '.hero__title';\n          }\n\n          const tl = gsap.timeline({ defaults: { ease: 'power4.out' } });\n\n          tl.to(splitChars, {\n              y: 0, opacity: 1, rotation: 0, duration: 1, stagger: 0.05\n          })\n          .to('.hero__desc', { y: 0, opacity: 1, duration: 1 }, '-=0.6')\n          .to('.hero__actions', { y: 0, opacity: 1, duration: 1 }, '-=0.8')\n          .to('.hero__img-wrapper', { scale: 1, opacity: 1, duration: 1.2, ease: 'back.out(1.7)' }, '-=1');\n\n          gsap.to('.hero__card', { y: -15, duration: 3, repeat: -1, yoyo: true, ease: 'sine.inOut' });\n      }\n\n      // === SECTIONS SCROLL ===\n      const sections = document.querySelectorAll('.section');\n      sections.forEach(sec => {\n          const children = sec.querySelectorAll('.section-title, .section-desc, .methodology-grid, .row, .courses-grid, .mentors-grid, .contact-container');\n          if (children.length > 0) {\n              gsap.fromTo(children,\n                  { y: 50, opacity: 0 },\n                  {\n                      y: 0, opacity: 1, duration: 0.8, stagger: 0.2,\n                      scrollTrigger: {\n                          trigger: sec,\n                          start: 'top 85%',\n                          toggleActions: 'play none none reverse'\n                      }\n                  }\n              );\n          }\n      });\n\n  } catch (e) {\n      console.error('Animation Logic Error:', e);\n      showAllContent();\n  }\n});"],"names":["CONFIG","burger","menu","header","isActive","link","handleScroll","anchor","e","targetId","target","offsetPosition","form","successMsg","phoneInput","captchaLabel","captchaInput","submitBtn","num1","num2","sum","val","cookiePopup","acceptBtn","showAllContent","el","splitChars","typeSplit","sec","children"],"mappings":"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"}